version: '3.8'

services:
  linkchat:
    build: .
    container_name: linkchat-app
    cap_add:
      - NET_RAW        # Permite el uso de raw sockets
    volumes:
      - ./config.json:/app/config.json:ro      # Monta el archivo de configuración
    environment:
      LINKCHAT_CONFIG: /app/config.json        # Configuración de la ruta del archivo
      LINKCHAT_IFACE: ""                       # Interfaz a usar (puede sobreescribirse con env)
    networks:
      - linknet
    command: python3 /app/scripts/run.py  # Comando para ejecutar el script principal

networks:
  linknet:
    driver: bridge
